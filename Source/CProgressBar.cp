#include "CProgressBar.h"CProgressBar::CProgressBar(){	mPercentage = 50;}CProgressBar::CProgressBar(LStream *inStream) : LPane(inStream){	*inStream >> mPercentage;}CProgressBar::~CProgressBar(){}UInt32 CProgressBar::GetPercentage() const{	return mPercentage;}void CProgressBar::SetPercentage(UInt32 inPercentage){	mPercentage = inPercentage;	Refresh();}void CProgressBar::DrawSelf(){	const Fixed fxMultiplier = ::Long2Fix(100);	Rect frame;	CalcLocalFrameRect(frame);		::MacFrameRect(&frame);		// Inset.	frame.top += 1;	frame.bottom -= 1;	frame.left += 1;	frame.right -= 1;		// Calculate how full we should be.	if(mPercentage > 100) mPercentage = 100;	Fixed fxTotalWidth = ::Long2Fix(frame.right - frame.left);	Fixed fxPercentage = ::Long2Fix(mPercentage);	Fixed fxScale = ::FixDiv(fxPercentage, fxMultiplier);	Fixed fxFillWidth = ::FixMul(fxScale, fxTotalWidth);	Fixed fillWidth = ::Fix2Long(fxFillWidth);		frame.right = frame.left + fillWidth;	::MacFillRect(&frame, &UQDGlobals::GetQDGlobals()->dkGray);}